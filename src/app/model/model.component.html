<md-card class="example-card">
    <md-card-content fxLayout="column" fxLayoutAlign="center stretch">
        <button md-raised-button (click)="addNewModel()">New Model</button>
        {{selectedModel$ | async}}
        <form [connect]="['models', (selectedModel)]">
            <md-input-container>
                <input
                    name="name"
                    ngControl ngModel
                    type="text"
                    class="search"
                    placeholder="Model Name (Eg, Post)"
                    md-input
                    />
            </md-input-container>
            <section class="example-section">
                <h3>Options</h3>
                <md-checkbox class="example-margin" ngControl ngModel name="softDelete">Soft Deletes</md-checkbox>
                <md-checkbox class="example-margin" ngControl ngModel name="migration">Migration</md-checkbox>
                <md-checkbox class="example-margin" ngControl ngModel name="timestamps">Time Stamps</md-checkbox>
            </section>
            <section>
                <h3>Fields</h3>
                <table class="material-table">
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>DB Type</th>
                            <th>Validations</th>
                            <th>Primary</th>
                            <th>Searchable</th>
                            <th>Fillable</th>
                        </tr>
                    </thead>
                    <tbody>
                    <template connectArray let-field connectArrayOf="fields">
                        <tr [ngModelGroup]="field">
                            <td>
                                <md-input-container>
                                <input
                                    name="name"
                                    type="text"
                                    ngControl ngModel
                                    class="search"
                                    placeholder=""
                                    md-input/>
                                </md-input-container>
                            </td>
                            <td>
                                <md-input-container>
                                <input
                                    name="db_type"
                                    type="text"
                                    ngControl ngModel
                                    class="search"
                                    placeholder=""
                                    md-input/>
                                </md-input-container>
                            </td>
                            <td>
                                <md-input-container>
                                <input
                                   name="validations"
                                   type="text"
                                   ngControl ngModel
                                   class="search"
                                   placeholder=""
                                   md-input/>
                                </md-input-container>
                            </td>

                            <td>
                                <md-checkbox class="example-margin" ngControl ngModel name="primary"></md-checkbox>
                            </td>

                            <td>
                                <md-checkbox class="example-margin" ngControl ngModel name="searchable"></md-checkbox>
                            </td>

                            <td>
                                <md-checkbox class="example-margin" ngControl ngModel name="fillable"></md-checkbox>
                            </td>

                        </tr>
                    </template>
                    </tbody>
                </table>
                <button md-raised-button (click)="addNewField(selectedModel)">Add Field</button>
                <p>* Softdeletes, timestamps, id (Primary Key) are added automatically</p>
            </section>
        </form>

    </md-card-content>
</md-card>
